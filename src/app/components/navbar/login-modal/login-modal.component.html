<div *ngIf="show"
     class="fixed inset-0 z-[70] flex items-center justify-center px-4 animate-fade-in"
     style="background-color: rgba(44, 44, 44, 0.4); backdrop-filter: blur(8px);"
     (click)="closeModal()">
  <div class="w-full max-w-md p-12 sm:p-14 rounded-sm animate-fade-in-up"
       style="background: white; box-shadow: var(--shadow-floating);"
       (click)="$event.stopPropagation()">

    <div class="text-center mb-10">
      <h2 class="text-2xl mb-2" style="font-family: var(--font-heading); color: var(--color-charcoal);">
        Welcome Back
      </h2>
      <div class="divider-gold-center"></div>
      <p class="text-sm mt-3" style="font-family: var(--font-subheading); color: var(--color-ash); font-style: italic;">
        Sign in to your MAISON account
      </p>
    </div>

    <form #loginForm="ngForm" class="space-y-6" (ngSubmit)="login(loginForm)">
      <div>
        <label class="block text-[10px] tracking-[0.15em] uppercase mb-2.5" style="font-family: var(--font-body); color: var(--color-ash);">
          Email Address
        </label>
        <input type="email"
               [(ngModel)]="user.email" name="email" #email="ngModel" id="email"
               placeholder="your@email.com"
               class="w-full px-5 py-3.5 text-sm outline-none transition-all duration-300 rounded-sm"
               style="font-family: var(--font-body); border: 1px solid var(--color-pearl); color: var(--color-charcoal);"
               onfocus="this.style.borderColor='var(--color-gold)'"
               onblur="this.style.borderColor='var(--color-pearl)'" required/>
        <div *ngIf="email.invalid && (email.touched || email.dirty)" class="text-red-500 text-xs mt-1">
          <div *ngIf="email.errors?.['required']" >Email is required.</div>
        </div>
      </div>
      <div>
        <label class="block text-[10px] tracking-[0.15em] uppercase mb-2.5" style="font-family: var(--font-body); color: var(--color-ash);">
          Password
        </label>
        <input type="password"
               [(ngModel)]="user.password" name="password" #password="ngModel" id="password"
               placeholder="••••••••"
               class="w-full px-5 py-3.5 text-sm outline-none transition-all duration-300 rounded-sm"
               style="font-family: var(--font-body); border: 1px solid var(--color-pearl); color: var(--color-charcoal);"
               onfocus="this.style.borderColor='var(--color-gold)'"
               onblur="this.style.borderColor='var(--color-pearl)'" required/>
        <div *ngIf="password.invalid && (password.touched || password.dirty)" class="text-red-500 text-xs mt-1">
          <div *ngIf="password.errors?.['required']" >Password is required.</div>
        </div>
      </div>
      <button 
              class="w-full py-4 text-xs tracking-[0.15em] uppercase rounded-sm transition-all duration-300 mt-2"
              style="font-family: var(--font-body); background-color: var(--color-charcoal); color: var(--color-cream);"
              onmouseover="this.style.backgroundColor='var(--color-graphite)'"
              onmouseout="this.style.backgroundColor='var(--color-charcoal)'">
        Sign In
      </button>
    </form>

    <p class="text-center text-xs mt-8" style="color: var(--color-ash); font-family: var(--font-body);">
      Don't have an account?
      <span (click)="goToSignup()" class="cursor-pointer underline" style="color: var(--color-gold-dark);">Register</span>
    </p>
  </div>
</div>

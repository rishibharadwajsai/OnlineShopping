<div *ngIf="show"
     class="fixed inset-0 z-[70] flex items-center justify-center px-4 animate-fade-in"
     style="background-color: rgba(44, 44, 44, 0.4); backdrop-filter: blur(8px);"
     (click)="closeModal()">
  <div class="w-full max-w-md p-12 sm:p-14 rounded-sm animate-fade-in-up"
       style="background: white; box-shadow: var(--shadow-floating);"
       (click)="$event.stopPropagation()">

    <div class="text-center mb-10">
      <h2 class="text-2xl mb-2" style="font-family: var(--font-heading); color: var(--color-charcoal);">
        Join MAISON
      </h2>
      <div class="divider-gold-center"></div>
      <p class="text-sm mt-3" style="font-family: var(--font-subheading); color: var(--color-ash); font-style: italic;">
        Create your account to begin
      </p>
    </div>

    <form class="space-y-5" #signupForm="ngForm" (ngSubmit)="signup(signupForm)">
      <div class="grid gap-4">
        <div>
          <label class="block text-[10px] tracking-[0.15em] uppercase mb-2.5" style="font-family: var(--font-body); color: var(--color-ash);">
            Name
          </label>
          <input type="text"
                  id="name" name="name" #name="ngModel"
                 [(ngModel)]="user.Name"
                 placeholder="Alexander"
                 class="w-full px-5 py-3.5 text-sm outline-none transition-all duration-300 rounded-sm"
                 style="font-family: var(--font-body); border: 1px solid var(--color-pearl); color: var(--color-charcoal);"
                 onfocus="this.style.borderColor='var(--color-gold)'"
                 onblur="this.style.borderColor='var(--color-pearl)'" required/>
          <div *ngIf="name.invalid && (name.dirty || name.touched)" class="text-red-500 text-xs mt-1" style="font-family: var(--font-body);">
            <div *ngIf="name.errors?.['required']" >Name is required.</div>
          </div>
        </div>
      </div>
      <div>
        <label class="block text-[10px] tracking-[0.15em] uppercase mb-2.5" style="font-family: var(--font-body); color: var(--color-ash);">
          Email
        </label>
        <input type="email"
               [(ngModel)]="user.Email" id="email" name="email" #email="ngModel"
               placeholder="your@email.com"
               class="w-full px-5 py-3.5 text-sm outline-none transition-all duration-300 rounded-sm"
               style="font-family: var(--font-body); border: 1px solid var(--color-pearl); color: var(--color-charcoal);"
               onfocus="this.style.borderColor='var(--color-gold)'"
               onblur="this.style.borderColor='var(--color-pearl)'" required pattern="^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$"/>
        <div *ngIf="email.invalid && (email.dirty || email.touched)" class="text-red-500 text-xs mt-1" style="font-family: var(--font-body);">
          <div *ngIf="email.errors?.['required']" >Email is required.</div>
          <div *ngIf="email.errors?.['pattern']" >Please enter a valid email address.</div>
        </div>
      </div>
      <div>
        <label class="block text-[10px] tracking-[0.15em] uppercase mb-2.5" style="font-family: var(--font-body); color: var(--color-ash);">
          Password
        </label>
        <input type="password"
               [(ngModel)]="user.Password" id="password" name="password" #password="ngModel"
               placeholder="••••••••"
               class="w-full px-5 py-3.5 text-sm outline-none transition-all duration-300 rounded-sm"
               style="font-family: var(--font-body); border: 1px solid var(--color-pearl); color: var(--color-charcoal);"
               onfocus="this.style.borderColor='var(--color-gold)'"
               onblur="this.style.borderColor='var(--color-pearl)'"
               required minlength="8" pattern="^[A-Za-z0-9]+$"
              />
        <div *ngIf="password.invalid && (password.dirty || password.touched)" class="text-red-500 text-xs mt-1" style="font-family: var(--font-body);">
          <div *ngIf="password.errors?.['required']" >Password is required.</div>
          <div *ngIf="password.errors?.['minlength']" >Password must be at least 8 characters long.</div>
          <div *ngIf="password.errors?.['pattern']" >Password can only contain letters and numbers.</div>
        </div>
      </div>
      <div>
        <label class="block text-[10px] tracking-[0.15em] uppercase mb-2.5" style="font-family: var(--font-body); color: var(--color-ash);">
          Password
        </label>
        <input type="password"
               [(ngModel)]="user.ConfirmPassword" id="confirm_password" name="confirm_password" #confirm_password="ngModel"
               placeholder="••••••••"
               class="w-full px-5 py-3.5 text-sm outline-none transition-all duration-300 rounded-sm"
               style="font-family: var(--font-body); border: 1px solid var(--color-pearl); color: var(--color-charcoal);"
               onfocus="this.style.borderColor='var(--color-gold)'"
               onblur="this.style.borderColor='var(--color-pearl)'"
               required minlength="8" pattern="^[A-Za-z0-9]+$"
              />
        <div *ngIf="confirm_password.invalid && (confirm_password.dirty || confirm_password.touched)" class="text-red-500 text-xs mt-1" style="font-family: var(--font-body);">
          <div *ngIf="confirm_password.errors?.['required']" >Confirm Password is required.</div>
          <div *ngIf="confirm_password.errors?.['minlength']" >Confirm Password must be at least 8 characters long.</div>
          <div *ngIf="confirm_password.errors?.['pattern']" >Confirm Password can only contain letters and numbers.</div>
        </div>
      </div>
      <div>
        <label class="block text-[10px] tracking-[0.15em] uppercase mb-2.5" style="font-family: var(--font-body); color: var(--color-ash);">
          Mobile
        </label>
        <input type="text"
               [(ngModel)]="user.Mobile" id="mobile" name="mobile" #mobile="ngModel"
               
               class="w-full px-5 py-3.5 text-sm outline-none transition-all duration-300 rounded-sm"
               style="font-family: var(--font-body); border: 1px solid var(--color-pearl); color: var(--color-charcoal);"
               onfocus="this.style.borderColor='var(--color-gold)'"
               onblur="this.style.borderColor='var(--color-pearl)'"
               required pattern="^[0-9]{10}$"
              />
        <div *ngIf="mobile.invalid && (mobile.dirty || mobile.touched)" class="text-red-500 text-xs mt-1" style="font-family: var(--font-body);">
          <div *ngIf="mobile.errors?.['required']" >Mobile number is required.</div>
          <div *ngIf="mobile.errors?.['pattern']" >Please enter a valid 10-digit mobile number.</div>
        </div>
      </div>
      <button
              class="w-full py-4 text-xs tracking-[0.15em] uppercase rounded-sm transition-all duration-300 mt-2"
              style="font-family: var(--font-body); background-color: var(--color-charcoal); color: var(--color-cream);"
              onmouseover="this.style.backgroundColor='var(--color-graphite)'"
              onmouseout="this.style.backgroundColor='var(--color-charcoal)'">
        Create Account
      </button>
    </form>

    <p class="text-center text-xs mt-8" style="color: var(--color-ash); font-family: var(--font-body);">
      Already have an account?
      <span (click)="goToLogin()" class="cursor-pointer underline" style="color: var(--color-gold-dark);">Sign In</span>
    </p>
  </div>
</div>
